{namespace c=Cbrunet\CbFoundation\ViewHelpers}

<f:comment>
	#i0009, 170509, dwildt
</f:comment>
<ul class="clearing-thumbs small-block-grid-{data.imagecols}" data-clearing>
	<c:fal uid="{data.uid}" categories="{settings.clearing.categories}">
		<f:for each="{objects}" as="image">
			<f:comment>
				#i0001, 161213, condition
			</f:comment>
			<f:if condition="{image.properties.tx_browser_wrapbefore}">
				<f:then>
					<li class="tx_browser_wrapbefore">
				</f:then>
				<f:else>
					<li>
				</f:else>
			</f:if>
			<figure>
				<f:comment>
					#i0008, 170405, figure, figcaption, +
				</f:comment>
				<a href="{image.publicUrl}" class="th">
					<f:comment>
						#i0007, 170330, data-caption, ~
					</f:comment>
					<c:image src="{image.publicUrl}"
									 alt="{image.alternative}"
									 width="{f:if(condition: data.imagewidth, then: '{data.imagewidth}c')}"
									 height="{f:if(condition: data.imageheight, then: '{data.imageheight}c')}"
									 data-caption="{f:if(condition:'{image.alternative}', then:'{image.alternative}', else:'{image.description}')}" />
				</a>
				<f:if condition="{image.description}">
					<f:then>
						<figcaption>{image.description}</figcaption>
					</f:then>
				</f:if>
			</figure>
			</li>
		</f:for>
	</c:fal>
</ul>