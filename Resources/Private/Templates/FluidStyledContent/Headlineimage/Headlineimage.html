<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true"> 
	<f:layout name="Default" />
	<f:section name="Main">

		<f:variable name="imageClass"></f:variable>
		<f:if condition="{images.0}">
			<f:variable name="imageClass"> wiImage</f:variable>
		</f:if>
		<f:variable name="desktop">{settings.start.image.breakpoint.desktop}</f:variable>
		<f:variable name="smartphone">{settings.start.image.breakpoint.smartphone}</f:variable>
		<f:variable name="tablet">{settings.start.image.breakpoint.tablet}</f:variable>

		<style>
			#c{data.uid} .headlinecontainer .bg-image {
				filter: brightness({content.brightness22}%);
				height: {content.heightsmartphone}px;
				object-position: {content.imagexposition} {content.imageyposition};
			}
			@media only screen and (min-width: {smartphone}px) {
				#c{data.uid} .headlinecontainer .bg-image {
					height: {content.heighttablet}px;
				}
			}
			@media only screen and (min-width: {tablet}px) {
				#c{data.uid} .headlinecontainer .bg-image {
					height: {content.heightdesktop}px;
				}
			}
			<f:if condition="{content.textalign}">
			#c{data.uid} .headlinetextoverlay {
				text-align: {content.textalign};
			}
			</f:if>
		</style>

		<f:if condition="{content.title} || {content.subtitle}">
			<div class="headlinecontainer{imageClass}" >
				<div class="headlinetextoverlay">
					<f:render partial="Wrap" arguments="{tag: settings.start.ce.headlineimage.html.tagtitle, class: settings.start.ce.headlineimage.css.title, text: content.title}"/>
					<f:render partial="Wrap" arguments="{tag: settings.start.ce.headlineimage.html.tagsubtitle, class: settings.start.ce.headlineimage.css.subtitle, text: content.subtitle}"/>
				</div>
				<f:if condition="{images.0}">
					<f:media 
						class="bg-image" 
						file="{images.0}" 
						alt="{images.0.alternative}" 
						title="{images.0.title}" 
						loading="{settings.media.lazyLoading}" 
						additionalAttributes="{
							srcset:  \" {f:uri.image(image: images.0, treatIdAsReference: 1, maxWidth: smartphone, cropVariant: 'smartphone')} {smartphone}w,
													{f:uri.image(image: images.0, treatIdAsReference: 1, maxWidth: tablet, cropVariant: 'tablet')} {tablet}w,
													{f:uri.image(image: images.0, treatIdAsReference: 1, maxWidth: desktop, cropVariant: 'default')} {desktop}w\"
						}"
						/>
				</f:if>
			</div>
		</f:if>

	</f:section>

	<f:section name="debug">
		<f:debug title="@kjlhghvb">{_all}</f:debug>
		<f:debug title="@oewiewgh">{images.0.originalFile}</f:debug>
	</f:section>
</html>

